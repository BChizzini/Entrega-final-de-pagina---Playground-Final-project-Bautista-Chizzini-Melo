// {% extends 'base.html' %}
{% block content %}
<style>
  .car-list-container {
    animation: fadeInUp 1.5s ease forwards;
  }

  @keyframes fadeInUp {
    0% {
      transform: translateY(30px);
    }
    100% {
      transform: translateY(0);
    }
  }
</style>

<div class="car-list-container">
  <h1 class="text-center">Galería de Autos de Colección</h1>
  <form method="get" class="mb-4">
      <input type="text" name="q" placeholder="Buscar..." class="form-control">
      <button type="submit" class="btn btn-primary mt-2">Buscar</button>
  </form>
  <div class="gallery">
      {% if cars %}
          {% for car in cars %}
              <div class="card">
                  {% if car.imagen %}
                      <img src="{{ car.imagen.url }}" class="card-img-top" alt="{{ car.modelo }}">
                  {% endif %}
                  <div class="card-body">
                      <h5 class="card-title">{{ car.marca }} {{ car.modelo }}</h5>
                      <p class="card-text">{{ car.descripcion|truncatechars:100 }}</p>
                      <a href="{% url 'car_detail' car.pk %}" class="btn btn-primary">Ver Detalle</a>
                      {% if user.is_authenticated %}
                          <a href="{% url 'car_update' car.pk %}" class="btn btn-warning">Editar</a>
                          <a href="{% url 'car_delete' car.pk %}" class="btn btn-danger">Borrar</a>
                      {% endif %}
                  </div>
              </div>
          {% endfor %}
      {% else %}
          <p class="text-center">No hay autos aún.</p>
      {% endif %}
  </div>
  {% if user.is_authenticated and user.profile.user_type == 'coleccionista' %}
      <a href="{% url 'car_create' %}" class="btn btn-success mt-4">Crear Auto</a>
  {% endif %}
</div>
{% endblock %}